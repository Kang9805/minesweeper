{% for row in board_data %}
    {% for cell in row %}
        {% if cell.is_revealed %}
            <div class="cell revealed {% if cell.is_mine %}mine{% endif %} {% if cell.value %}color-{{ cell.value }}{% endif %}">
                {% if cell.is_mine %}ğŸ’£{% else %}{{ cell.value }}{% endif %}
            </div>
        {% else %}
            <div class="cell {% if cell.is_flagged %}flagged{% endif %}"
                 hx-get="{% url 'click' cell.row cell.col %}"
                 hx-target="#game-board"
                 hx-swap="innerHTML"
                 oncontextmenu="event.preventDefault(); htmx.ajax('GET', '{% url 'flag' cell.row cell.col %}', {target:'#game-board', swap:'innerHTML'});">
                {% if cell.is_flagged %}ğŸš©{% endif %}
            </div>
        {% endif %}
    {% endfor %}
{% endfor %}

<div id="status-bar" hx-swap-oob="true">
    <span>
        {% if game_over %}ğŸ’¥ ê²Œì„ ì˜¤ë²„!
        {% elif won %}ğŸ‰ ìŠ¹ë¦¬!
        {% else %}ğŸš© ë‚¨ì€ ê¹ƒë°œ: {{ remaining_flags }}
        {% endif %}
    </span>
    <a href="{% url 'new_game' %}" style="text-decoration:none; color:#0984e3;">ìƒˆ ê²Œì„</a>
</div>